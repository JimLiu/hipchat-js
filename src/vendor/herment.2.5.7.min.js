!function(){var a,b;a=function(){var a={},b={};return a.getLocalStorage=function(){return window.localStorage},a.getSessionStorage=function(){return window.sessionStorage},a.getInternalStorage=function(){return b.getItem=function(a){return b[a]},b.setItem=function(a,c){b[a]=c},b.clear=function(){b={}},b},a.getStorage=function(){var b;try{var c=a.getLocalStorage();b="undefined"!=typeof c?c:a.getSessionStorage()}catch(d){}return"undefined"==typeof b&&(b=a.getInternalStorage()),b},a.isCORSRequest=function(a){var b=document.createElement("a");return b.href=a,b.host!==window.location.host},a.useXDomainRequest=function(b){return a.isCORSRequest(b)&&!!window.XDomainRequest&&(-1!==navigator.appVersion.indexOf("MSIE 8.")||-1!==navigator.appVersion.indexOf("MSIE 9."))},a.getCookieValue=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null},a}(),b=function(a){function b(a){return d&&d.is_started?(d.stop(),d.config=d.parseConfig(a)):(d=new c(a),window["herment-gas-client"]=d),d}function c(b){return this.STORAGE_KEY_PREAMBLE="herment",this.MAXEVENTS=100,this.PUBLISH_INTERVAL=5e3,this.SAVE_INTERVAL=1e3,this.config=this.parseConfig(b),this.storage=a.getStorage(),this.is_started=!1,"undefined"!=typeof window.addEventListener?window.addEventListener("unload",function(){this.moveQueueToStorage()}.bind(this)):window.attachEvent("onunload",function(){this.moveQueueToStorage()}.bind(this)),this}var d=window["herment-gas-client"];return c.prototype={getAtlPath:function(){return a.getCookieValue("__atl_path")},getServerName:function(){var a;return"undefined"!=typeof document.location&&"undefined"!=typeof document.location.hostname&&(a=document.location.hostname),""===a&&(a="-"),a},getProductNameFromServerName:function(a){return"undefined"!=typeof a?a.replace(".com","").replace(".net","").replace(".org","").replace(".au","").replace(".io",""):"-"},getSubdomain:function(a){var b="-",c=a.match(/^([a-z0-9\.]*)[\-\.]{1}([a-z0-9]+)+\.([a-z]{2,6})$/i);if(c){var d=a.split(".");d=2===d[d.length-1].length?d.slice(0,d.length-3):d.slice(0,d.length-2),0!==d.length&&(b=d.join("."))}return b},generateRandomStorageKey:function(){var a=2,b=12,c=(Math.random()+"").slice(a,b),d=(Math.random()+"").slice(a,b);return c.concat(d)},ajaxPost:function(b,c){var d;if(a.useXDomainRequest(b))d=new window.XDomainRequest;else if(window.XMLHttpRequest)d=new XMLHttpRequest;else{if(!window.ActiveXObject)return;d=new window.ActiveXObject("Microsoft.XMLHTTP")}d.open("POST",b,!0),"undefined"!=typeof d.setRequestHeader&&(d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Accept","application/json, text/javascript, */*;")),d.send(c)},parseConfig:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;if("undefined"==typeof a||"undefined"==typeof a.queue){var t=window.AJS=window.AJS||{};t.EventQueue=t.EventQueue||[],b=t.EventQueue}else b=a.queue;return c="undefined"==typeof a||"undefined"==typeof a.analyticsscheme?"https":a.analyticsscheme,d="undefined"==typeof a||"undefined"==typeof a.analyticsserver?"analytics.atlassian.com":a.analyticsserver,e="undefined"==typeof a||"undefined"==typeof a.analyticsurl?"/analytics/events":a.analyticsurl,f="undefined"==typeof a||"undefined"==typeof a.server?this.getServerName():a.server,g="undefined"==typeof a||"undefined"==typeof a.product?this.getProductNameFromServerName(f):a.product,"undefined"==typeof a||"undefined"==typeof a.subproduct?(h=this.getSubdomain(f),"undefined"==typeof h&&(h="-")):h=a.subproduct,i="undefined"==typeof a||"undefined"==typeof a.version?null:a.version,j="undefined"==typeof a||"undefined"==typeof a.session?null:a.session,k="undefined"==typeof a||"undefined"==typeof a.sen?null:a.sen,l="undefined"==typeof a||"undefined"==typeof a.sourceip?null:a.sourceip,m="undefined"==typeof a||"undefined"==typeof a.atlpath?this.getAtlPath():a.atlpath,n="undefined"==typeof a||"undefined"==typeof a.ajax?this.ajaxPost:a.ajax,o="undefined"==typeof a||"undefined"==typeof a.maxevents?this.MAXEVENTS:a.maxevents,p="undefined"==typeof a||"undefined"==typeof a.storage_key?this.STORAGE_KEY_PREAMBLE+this.generateRandomStorageKey()+this.generateRandomStorageKey():a.storage_key,q="undefined"==typeof a||"undefined"==typeof a.user?"default":a.user,r="undefined"==typeof a||"undefined"==typeof a.publish_interval?this.PUBLISH_INTERVAL:a.publish_interval,s="undefined"==typeof a||"undefined"==typeof a.save_interval?this.SAVE_INTERVAL:a.save_interval,{queue:b,gasScheme:c,gasServer:d,gasUrl:e,serverName:f,productName:g,subProductName:h,version:i,session:j,sen:k,sourceIP:l,atlPath:m,post:n,maxevents:o,storageKey:p,user:q,publishInterval:r,saveInterval:s}},pushToServer:function(a,b){var c="undefined"!=typeof b?b:this.config.post,d=this.config.gasScheme+"://"+this.config.gasServer+this.config.gasUrl,e={events:a},f=JSON.stringify(e);c(d,f)},addEventsToArray:function(a,b,c){if("undefined"!=typeof c&&"undefined"!=typeof c.server&&"undefined"!=typeof c.product&&"undefined"!=typeof c.subproduct&&"undefined"!=typeof c.user)for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];if(b.length>=this.config.maxevents)break;if(e.name&&e.properties){var f={name:e.name,properties:e.properties,serverTime:e.time||(new Date).getTime(),server:c.server,user:c.user,product:c.product,subproduct:c.subproduct,version:c.version,session:c.session,sen:c.sen,sourceIP:c.sourceIP,atlPath:c.atlPath};b.push(f)}}},publishFromQueueAndStorage:function(a){try{var b="undefined"!=typeof a?a:this.pushToServer.bind(this),c=[];if(this.config.queue.length<1&&("undefined"==typeof this.storage||this.storage.length<1))return;var d={server:this.config.serverName,user:this.config.user,product:this.config.productName,subproduct:this.config.subProductName,version:this.config.version,session:this.config.session,sen:this.config.sen,sourceIP:this.config.sourceIP,atlPath:this.config.atlPath};this.addEventsToArray(this.config.queue,c,d);var e=this.popEventsFromStorage();this.addEventsToArray(e,c,d),this.config.queue.length=0,c&&c.length&&b(c)}catch(f){}},serialiseEventsToString:function(a){return JSON.stringify(a)},deserialiseEvents:function(a){return JSON.parse(a)},storeEvents:function(a){if("undefined"!=typeof this.storage)try{if(this.storage[this.config.storageKey]){var b=this.deserialiseEvents(this.storage[this.config.storageKey])||[];b.length<this.config.maxevents&&b.push.apply(b,a),a=b}this.storage.setItem(this.config.storageKey,this.serialiseEventsToString(a))}catch(c){}},popEventsFromStorage:function(){if("undefined"==typeof this.storage)return[];try{if(this.storage[this.config.storageKey]){var a=this.deserialiseEvents(this.storage[this.config.storageKey]);return this.storage[this.config.storageKey]=this.serialiseEventsToString([]),a}}catch(b){}return[]},moveQueueToStorage:function(){0!==this.config.queue.length&&"undefined"!=typeof this.storage&&(this.storeEvents(this.config.queue),this.config.queue.length=0)},start:function(){this.is_started=!0;var a=Array.prototype.push;this.config.queue.push=function(b){b.time=(new Date).getTime(),a.call(this.config.queue,b)}.bind(this),this.initialSaveTimeout=setTimeout(this.publishFromQueueAndStorage.bind(this),this.config.saveInterval),this.publishInterval=setInterval(this.publishFromQueueAndStorage.bind(this),this.config.publishInterval),this.saveInterval=setInterval(this.moveQueueToStorage.bind(this),this.config.saveInterval)},stop:function(){this.is_started=!1,this.publishFromQueueAndStorage(),clearTimeout(this.initialSaveTimeout),clearInterval(this.saveInterval),clearInterval(this.publishInterval)},destroy:function(){this.stop(),window["herment-gas-client"]=b}},b}(a),window["herment-gas-client"]=b,window.define&&window.define("herment",[],function(){return b})}();


/*****************
 ** WEBPACK FOOTER
 ** ./src/vendor/herment.2.5.7.min.js
 ** module id = 254
 ** module chunks = 0
 **/